
@inject NavigationManager Navigation

<div class="@NavMenuCssClass nav-scrollable navbar-dark" style="height:90px;display:flex;background:#1f2733" @onclick="ToggleNavMenu">
    <div class="container-fluid d-inline-flex">
        <img src="globe.png" style="object-fit: contain; width: 48px;margin-left: 20px;" />
        <a class="navbar-brand" href="">Travel Itinerary</a>
    </div>
    <nav class="flex-column" style="display:flex;flex-direction: row !important;">
        <!-- Navigation Links -->
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                @* <span class="oi oi-home" aria-hidden="true"></span> *@
                Home
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="flights">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Flights
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="hotels">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Hotels
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="customers">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Customer
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="bookings">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Bookings
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="staffs">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Staffs
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="itineraries">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Itineraries
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="activities">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Activities
            </NavLink>
        </div>
        <div class="nav-item px-1">
            <NavLink class="nav-link" href="itineraryactivities">
                @* <span class="oi oi-list-rich" aria-hidden="true"></span> *@
                Itinerary Activities
            </NavLink>
        </div>
        <AuthorizeView>
            <Authorized>
                <div class="nav-item px-1" style="margin-right: 20px;">
                    <NavLink class="nav-link" href="#" @onclick="BeginLogOut" Match="NavLinkMatch.All">
                        Log out
                    </NavLink>
                </div>
            </Authorized>
            <NotAuthorized>
                <div class="nav-item px-1" style="margin-right: 20px;">
                    <NavLink class="nav-link" href="authentication/register" Match="NavLinkMatch.All">
                        Register
                    </NavLink>
                </div>
                <div class="nav-item px-1" style="margin-right: 20px;">
                    <NavLink class="nav-link" href="authentication/login" Match="NavLinkMatch.All">
                        Log in
                    </NavLink>
                </div>
            </NotAuthorized>
        </AuthorizeView>

    </nav>
</div>

<style>
    .nav-item{
        margin: auto;
        padding-bottom: 0 !important;
    }

    .nav-item a{
        width: max-content;
    }
</style>

@code {
    private bool collapseNavMenu = true;
    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

    private void ShowNavMenu()
    {
        collapseNavMenu = false;
    }

    private void HideNavMenu()
    {
        collapseNavMenu = true;
    }

    private void BeginLogOut(MouseEventArgs args) => Navigation.NavigateToLogout("authentication/logout", "/");
}
